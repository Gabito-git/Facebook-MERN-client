(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{130:function(e,t,n){},250:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(34),s=n.n(a),i=(n(130),n(4)),r=n(29),o=n(7),l=n(6),j=n.n(l),u=n(15),d=Object({NODE_ENV:"production",PUBLIC_URL:"/Facebook-MERN-client",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,b=function(e,t){var n="".concat(d,"/").concat(t);return fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",c="".concat(d,"/").concat(e),a=localStorage.getItem("token");return"GET"===n?fetch(c,{method:n,headers:{"Content-Type":"application/json","x-token":a}}):fetch(c,{method:n,headers:{"Content-Type":"application/json","x-token":a},body:JSON.stringify(t)})},O=function(e,t){var n="".concat(d,"/").concat(e),c=localStorage.getItem("token"),a=new FormData;return a.append("file",t),fetch(n,{method:"PUT",headers:{"x-token":c},body:a})},p="[Auth] Login",h="[Auth] Logout",x="[Auth] Finish checking",f="[UI] Set error",g="[UI] Remove error",_="[UI] Set user image",v="[UI] Set modal status",N="[UI] Set is loading",k="[Post] Get posts",y="[Post] Set Active Post",S="[Post] Clean Active Post",w="[Socket] Connect",E=n(14),C=n.n(E),I=function(e){return{type:p,payload:{user:e}}},R=function(){return{type:x}},P=function(){return{type:h}},T=n(97),L=function(e){return{type:w,payload:e}},z=function(e){return{type:f,payload:e}},A=function(e){return{type:_,payload:e}},D=function(e){return{type:v,payload:e}},U=function(e){return{type:N,payload:e}},B=n(0),F=function(e){var t=e.imageBig,n=e.imageSmall,c=e.text;return Object(B.jsxs)("div",{className:"history",children:[Object(B.jsx)("img",{src:t,alt:"history"}),Object(B.jsx)("p",{className:"history__text",children:c}),Object(B.jsx)("div",{className:"history__img-small",children:Object(B.jsx)("img",{src:n,alt:"history-small"})})]})},G=function(){return Object(B.jsxs)("div",{className:"histories",children:[Object(B.jsx)(F,{imageBig:"./assets/big1.jpg",imageSmall:"./assets/small1.jpg",text:"Diana Patricia"}),Object(B.jsx)(F,{imageBig:"./assets/big2.jpg",imageSmall:"./assets/small2.jpg",text:"Rafael Diaz"}),Object(B.jsx)(F,{imageBig:"./assets/big3.jpg",imageSmall:"./assets/small3.jpg",text:"Julio Sanchez"}),Object(B.jsx)(F,{imageBig:"./assets/big4.jpg",imageSmall:"./assets/small4.jpg",text:"Carito Buitrago"}),Object(B.jsx)(F,{imageBig:"./assets/big5.jpg",imageSmall:"./assets/small4.jpg",text:"Andrea Suarez"})]})},M=n(102),W=n.n(M),H=n(50),K=n.n(H),V=n(103),J=n.n(V),q=n(265),Q=n(268),X=function(e,t,n){return function(){var c=Object(u.a)(j.a.mark((function c(a,s){var i,r,o;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,O("uploads/".concat(t,"/").concat(n),e);case 3:return i=c.sent,c.next=6,i.json();case 6:if(!(r=c.sent).ok){c.next=15;break}"users"===t&&a(A(r.image)),console.log(r),o=s(),o.socket.socket.emit("post-update"),a(D(!1)),c.next=18;break;case 15:throw a(U(!1)),console.log(r.msg),new Error(r.msg);case 18:a(U(!1)),c.next=24;break;case 21:c.prev=21,c.t0=c.catch(0),C.a.fire({icon:"error",title:"Oops...",text:c.t0});case 24:case"end":return c.stop()}}),c,null,[[0,21]])})));return function(e,t){return c.apply(this,arguments)}}()},Y=function(e){return function(){var t=Object(u.a)(j.a.mark((function t(n,c){var a,s,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m("uploads/".concat(e),{},"DELETE");case 3:return a=t.sent,t.next=6,a.json();case 6:if((s=t.sent).ok){t.next=9;break}throw new Error(s.msg);case 9:i=c(),i.socket.socket.emit("post-update"),n(U(!1)),n(D(!1)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),C.a.fire({icon:"error",title:"Oops...",text:t.t0});case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,n){return t.apply(this,arguments)}}()},Z=function(e,t,n,c){return function(){var a=Object(u.a)(j.a.mark((function a(s,i){var r,o,l;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s(U(!0)),!e){a.next=7;break}return a.next=4,m("post/".concat(e),{body:t},"PUT");case 4:r=a.sent,a.next=10;break;case 7:return a.next=9,m("post",{body:t},"POST");case 9:r=a.sent;case 10:return a.next=12,r.json();case 12:o=a.sent,console.log(o),o.ok&&(n?s(X(n,"posts",o.postId)):c?s(Y(e)):(l=i(),l.socket.socket.emit("post-update"),s(D(!1)),s(U(!1))));case 15:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},$=function(e){return{type:k,payload:e}},ee=function(e){return{type:y,payload:e}},te=function(){return{type:S}},ne=n(27),ce=n(267),ae=n(62),se=n.n(ae),ie=n(49),re=n.n(ie),oe=Object(q.a)((function(e){return{root:{display:"flex",justifyContent:"center","& > * + *":{marginLeft:e.spacing(2)}}}})),le=function(){var e=Object(i.c)((function(e){return e.auth})).user.name,t=Object(i.c)((function(e){return e.ui})),n=t.userImage,a=t.isLoading,s=Object(i.c)((function(e){return e.posts})).active,r=Object(c.useState)(s.body),o=Object(ne.a)(r,2),l=o[0],j=o[1],u=Object(c.useState)(s.image),d=Object(ne.a)(u,2),b=d[0],m=d[1],O=Object(i.b)(),p=oe();Object(c.useEffect)((function(){var e=document.querySelector("#modal-post"),t=function(t){t.target===e&&O(D(!1))};return e.addEventListener("click",t),function(){return e.removeEventListener("click",t)}}),[O]),Object(c.useEffect)((function(){document.querySelector("#textarea").focus()}),[]);return Object(B.jsx)("div",{className:"modalPost",id:"modal-post",children:Object(B.jsx)("div",{className:"modalPost__box",children:Object(B.jsxs)("form",{children:[Object(B.jsxs)("div",{className:"modalPost__header",children:[Object(B.jsx)("div",{className:"modalPost__title",children:Object(B.jsx)("h3",{children:s.body?"Editar publicaci\xf3n":"Crear publicaci\xf3n"})}),Object(B.jsx)("div",{className:"modalPost__closeIcon",onClick:function(){O(te()),O(D(!1))},children:Object(B.jsx)(se.a,{color:"inherit",fontSize:"inherit"})})]}),Object(B.jsxs)("div",{className:"modalPost__user-info",children:[Object(B.jsx)(Q.a,{src:n}),Object(B.jsxs)("div",{className:"modalPost__user-name",children:[Object(B.jsx)("h4",{children:e}),Object(B.jsxs)("span",{children:[Object(B.jsx)("div",{className:"modalPost__public",children:Object(B.jsx)(re.a,{fontSize:"inherit"})}),Object(B.jsx)("p",{children:"P\xfablico"})]})]})]}),Object(B.jsx)("textarea",{id:"textarea",placeholder:"\xbfQu\xe9 estas pensando, ".concat(e.split(" ")[0]," ?"),className:"modalPost__body ".concat(b.src&&"modalPost__body--update"),onChange:function(e){return j(e.target.value)},value:l}),b.src&&Object(B.jsxs)("div",{className:"modalPost__iconReference",children:[Object(B.jsx)("div",{className:"modalPost__image",children:Object(B.jsx)("img",{src:b.src,alt:"user-upload"})}),Object(B.jsx)("div",{className:"modalPost__closeImage",onClick:function(){return m({src:"",file:null,deleted:!0})},children:Object(B.jsx)(se.a,{color:"inherit",fontSize:"inherit"})})]}),Object(B.jsxs)("div",{className:"modalPost__add-image mt-2",children:[Object(B.jsx)("p",{children:"Agregar a tu publicaci\xf3n"}),Object(B.jsx)("div",{className:"modalPost__img-icon",onClick:function(){document.getElementById("image-input-modal").click()},children:Object(B.jsx)(K.a,{color:"inherit",fontSize:"inherit"})}),Object(B.jsx)("input",{id:"image-input-modal",type:"file",className:"hidden",onChange:function(e){var t=e.target.files[0];m({src:URL.createObjectURL(t),file:t})},accept:"image/*"})]}),a?Object(B.jsx)("div",{className:p.root,children:Object(B.jsx)(ce.a,{})}):Object(B.jsx)("button",{className:"btn  block mt-2 ".concat(l?"btn--primary":"btn--disabled","  "),onClick:function(e){e.preventDefault(),s.body?O(Z(s.id,l,b.file,b.deleted)):O(Z(null,l,b.file)),O(te())},disabled:a||!l,children:s.body?"Editar":"Publicar"})]})})})},je=Object(q.a)((function(e){return{small:{width:e.spacing(4.5),height:e.spacing(4.5)}}})),ue=function(){var e=je(),t=Object(i.b)(),n=Object(i.c)((function(e){return e.auth})).user.name,c=Object(i.c)((function(e){return e.ui})),a=c.userImage,s=c.modalStatus;return Object(B.jsxs)("div",{className:"postbox",children:[Object(B.jsxs)("div",{className:"postbox__top",children:[Object(B.jsx)(Q.a,{className:e.small,src:a}),Object(B.jsx)("div",{className:"postbox__input-box",onClick:function(){return t(D(!0))},children:Object(B.jsx)("input",{placeholder:"\xbfQu\xe9 estas pensando, ".concat(n.split(" ")[0]," ?"),disabled:s})})]}),Object(B.jsxs)("div",{className:"postbox__bottom",children:[Object(B.jsxs)("div",{className:"postbox__option",children:[Object(B.jsx)("div",{className:"postbox__icon postbox__icon--red",children:Object(B.jsx)(W.a,{fontSize:"inherit"})}),Object(B.jsx)("p",{children:"Video en vivo"})]}),Object(B.jsxs)("div",{className:"postbox__option ",onClick:function(){document.getElementById("image-input").click()},children:[Object(B.jsx)("div",{className:"postbox__icon postbox__icon--green",children:Object(B.jsx)(K.a,{fontSize:"inherit"})}),Object(B.jsx)("p",{children:"Foto/video"})]}),Object(B.jsx)("input",{id:"image-input",type:"file",className:"hidden",onChange:function(e){var n=e.target.files[0];t(ee({image:{src:URL.createObjectURL(n),file:n},body:""})),t(D(!0))}}),Object(B.jsxs)("div",{className:"postbox__option ",children:[Object(B.jsx)("div",{className:"postbox__icon postbox__icon--yellow",children:Object(B.jsx)(J.a,{fontSize:"inherit"})}),Object(B.jsx)("p",{children:"Sentimiento/actividad"})]})]}),s&&Object(B.jsx)(le,{})]})},de=n(5),be=n(106),me=n.n(be),Oe=n(107),pe=n.n(Oe),he=n(108),xe=n.n(he),fe=n(109),ge=n.n(fe),_e=n(104),ve=n.n(_e),Ne=n(105),ke=n.n(Ne),ye=function(e){var t=e.setModal,n=e.id,a=e.body,s=e.image,r=Object(i.b)();Object(c.useEffect)((function(){var e=function(){t(!1)};return window.addEventListener("click",e),function(){return window.removeEventListener("click",e)}}),[t]);return Object(B.jsxs)("div",{className:"edit",children:[Object(B.jsxs)("div",{className:"edit__top",onClick:function(){r(ee({image:{src:s,file:null},body:a,id:n})),r(D(!0))},children:[Object(B.jsx)("div",{className:"edit__icon",children:Object(B.jsx)(ve.a,{fontSize:"inherit"})}),Object(B.jsx)("p",{children:"Editar publicaci\xf3n"})]}),Object(B.jsxs)("div",{className:"edit__bottom",onClick:function(){r(function(e){return function(){var t=Object(u.a)(j.a.mark((function t(n,c){var a,s,i,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c(),s=a.socket.socket,t.prev=1,t.next=4,m("post/".concat(e),{},"DELETE");case 4:return i=t.sent,t.next=7,i.json();case 7:if((r=t.sent).ok){t.next=10;break}throw new Error(r.msg);case 10:s.emit("post-update"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),C.a.fire({icon:"error",title:"Oops...",text:t.t0});case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,n){return t.apply(this,arguments)}}()}(n))},children:[Object(B.jsx)("div",{className:"edit__icon",children:Object(B.jsx)(ke.a,{fontSize:"inherit"})}),Object(B.jsx)("p",{children:"Mover a la papelera"})]})]})},Se=Object(q.a)((function(e){return{small:{width:e.spacing(4.2),height:e.spacing(4.2)}}})),we=function(e){var t=e.user,n=e.image,a=e.body,s=e.updatedAt,r=e.id,o=Se(),l=Object(c.useState)(!1),j=Object(ne.a)(l,2),u=j[0],d=j[1],b=Object(i.c)((function(e){return e.ui})).userImage,m=Object(i.c)((function(e){return e.auth})).user.uid;return Object(B.jsxs)("div",{className:"post animate__animated animate__fadeInDown animate__faster",children:[Object(B.jsxs)("div",{className:"post__header",children:[Object(B.jsx)(Q.a,{className:o.small,src:t.image}),Object(B.jsxs)("div",{className:"post__user-info-container",children:[Object(B.jsxs)("div",{className:"post__user-info",children:[Object(B.jsx)("p",{children:t.name}),Object(B.jsxs)("span",{children:[s," ",Object(B.jsx)(re.a,{color:"inherit"})]})]}),t._id===m&&Object(B.jsx)("div",{className:"post__more",onClick:function(){return d(!u)},children:Object(B.jsx)(me.a,{fontSize:"inherit"})})]})]}),Object(B.jsx)("div",{className:"post__message",children:Object(B.jsxs)("p",{children:[" ",a," "]})}),n&&Object(B.jsx)("div",{className:"post__image",children:Object(B.jsx)("img",{src:n,alt:"message"})}),Object(B.jsxs)("div",{className:"post__footer",children:[Object(B.jsxs)("div",{className:"post__options",children:[Object(B.jsxs)("div",{className:"post__option",children:[Object(B.jsx)(pe.a,{fontSize:"inherit"}),Object(B.jsx)("p",{children:"Me gusta"})]}),Object(B.jsxs)("div",{className:"post__option",children:[Object(B.jsx)(xe.a,{fontSize:"inherit"}),Object(B.jsx)("p",{children:"Comentar"})]}),Object(B.jsxs)("div",{className:"post__option",children:[Object(B.jsx)(ge.a,{fontSize:"inherit"}),Object(B.jsx)("p",{children:"Compartir"})]})]}),Object(B.jsxs)("div",{className:"post__comment",children:[Object(B.jsx)(Q.a,{className:o.small,src:b}),Object(B.jsx)("div",{className:"post__input-box-comment",children:Object(B.jsx)("input",{placeholder:"Escribe un comentario"})})]})]}),u&&Object(B.jsx)(ye,{setModal:d,id:r,body:a,image:n})]})},Ee=function(){var e=Object(i.c)((function(e){return e.posts})).posts;return Object(B.jsx)("div",{children:e.map((function(e){return Object(B.jsx)(we,Object(de.a)({},e),e.id)}))})},Ce=function(e){var t=e.imageRoute,n=e.text;return Object(B.jsxs)("div",{className:"sidelink",children:[Object(B.jsx)("div",{className:"sidelink__img-container",children:Object(B.jsx)("img",{src:t,alt:"link"})}),Object(B.jsx)("p",{children:n})]})},Ie=Object(q.a)((function(e){return{small:{width:e.spacing(4.2),height:e.spacing(4.2)}}})),Re=function(){var e=Ie(),t=Object(i.c)((function(e){return e.auth})).user.name,n=Object(i.c)((function(e){return e.ui})).userImage;return Object(B.jsxs)("div",{className:"sidebar ",children:[Object(B.jsx)("div",{className:"sidebar__link",children:Object(B.jsxs)("div",{className:"sidebar__user-info",children:[Object(B.jsx)(Q.a,{className:e.small,src:n}),Object(B.jsx)("p",{children:t})]})}),Object(B.jsx)("div",{className:"sidebar__link",children:Object(B.jsx)(Ce,{imageRoute:"./assets/squBo4GNUfh.png",text:"COVID-19: Centro de informaci\xf3n"})}),Object(B.jsx)("div",{className:"sidebar__link",children:Object(B.jsx)(Ce,{imageRoute:"./assets/-XF4FQcre_i.png",text:"Amigos"})}),Object(B.jsx)("div",{className:"sidebar__link",children:Object(B.jsx)(Ce,{imageRoute:"./assets/GA7Y4WRJMp8.png",text:"Recuerdos"})}),Object(B.jsx)("div",{className:"sidebar__link",children:Object(B.jsx)(Ce,{imageRoute:"./assets/9BDqQflVfXI.png",text:"Marketplace"})}),Object(B.jsx)("div",{className:"sidebar__link",children:Object(B.jsx)(Ce,{imageRoute:"./assets/mk4dH3FK0jT.png",text:"Grupos"})}),Object(B.jsx)("div",{className:"sidebar__link",children:Object(B.jsx)(Ce,{imageRoute:"./assets/A1HlI2LVo58.png",text:"Watch"})})]})},Pe=n(111),Te=n.n(Pe),Le=n(112),ze=n.n(Le),Ae=n(113),De=n.n(Ae),Ue=n(114),Be=n.n(Ue),Fe=n(115),Ge=n.n(Fe),Me=n(116),We=n.n(Me),He=n(117),Ke=n.n(He),Ve=n(118),Je=n.n(Ve),qe=n(119),Qe=n.n(qe),Xe=n(120),Ye=n.n(Xe),Ze=n(110),$e=n.n(Ze),et=Object(q.a)((function(e){return{small:{width:e.spacing(7),height:e.spacing(7)},root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}})),tt=function(){var e=Object(i.c)((function(e){return e.auth})).user,t=e.name,n=e.uid,c=Object(i.c)((function(e){return e.ui})),a=c.userImage,s=c.isLoading,r=Object(i.b)(),o=et();return Object(B.jsxs)("div",{className:"modal",children:[Object(B.jsxs)("div",{className:"modal__top",id:"click-me",onClick:function(){document.getElementById("image-input-user").click()},children:[s?Object(B.jsx)("div",{className:o.root,children:Object(B.jsx)(ce.a,{})}):Object(B.jsx)(Q.a,{className:o.small,src:a}),Object(B.jsxs)("div",{className:"modal__user-info",children:[Object(B.jsx)("p",{children:t}),Object(B.jsx)("span",{children:"Cambia tu imagen"})]})]}),Object(B.jsx)("input",{id:"image-input-user",type:"file",accept:"image/*",className:"hidden",onChange:function(e){var t=e.target.files[0];r(U(!0)),r(X(t,"users",n))}}),Object(B.jsx)("div",{className:"modal__separator"}),Object(B.jsxs)("div",{className:"modal__bottom",onClick:function(){r((function(e){localStorage.clear(),e(P())}))},children:[Object(B.jsx)("div",{className:"modal__close-icon",children:Object(B.jsx)($e.a,{fontSize:"inherit"})}),Object(B.jsx)("p",{children:"Cerrar sesi\xf3n"})]})]})},nt=Object(q.a)((function(e){return{small:{width:e.spacing(3.5),height:e.spacing(3.5)}}})),ct=function(){var e=Object(i.c)((function(e){return e.auth})).user.name,t=Object(i.c)((function(e){return e.ui})).userImage,n=Object(c.useState)(!1),a=Object(ne.a)(n,2),s=a[0],r=a[1],o=nt();return Object(B.jsxs)("div",{className:"navigation",children:[Object(B.jsxs)("div",{className:"navigation__left",children:[Object(B.jsx)("div",{className:"navigation__logo",children:Object(B.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg",alt:"facebook-logo"})}),Object(B.jsxs)("div",{className:"navigation__search-container",children:[Object(B.jsx)(Te.a,{fontSize:"large",color:"inherit"}),Object(B.jsx)("input",{placeholder:"Buscar en Facebook"})]})]}),Object(B.jsxs)("div",{className:"navigation__center",children:[Object(B.jsx)("div",{className:"navigation__icon active",children:Object(B.jsx)(ze.a,{fontSize:"inherit",color:"inherit"})}),Object(B.jsx)("div",{className:"navigation__icon",children:Object(B.jsx)(De.a,{fontSize:"inherit",color:"inherit"})}),Object(B.jsx)("div",{className:"navigation__icon",children:Object(B.jsx)(Be.a,{fontSize:"inherit",color:"inherit"})}),Object(B.jsx)("div",{className:"navigation__icon",children:Object(B.jsx)(Ge.a,{fontSize:"inherit",color:"inherit"})}),Object(B.jsx)("div",{className:"navigation__icon",children:Object(B.jsx)(We.a,{fontSize:"inherit",color:"inherit"})})]}),Object(B.jsxs)("div",{className:"navigation__right",children:[Object(B.jsxs)("div",{className:"navigation__user-info",children:[Object(B.jsx)(Q.a,{className:o.small,src:t}),Object(B.jsxs)("p",{children:[" ",e.split(" ")[0]," "]})]}),Object(B.jsxs)("div",{className:"navigation__right-icons",children:[Object(B.jsx)("div",{className:"navigation__right-icon-container",children:Object(B.jsx)(Ke.a,{fontSize:"inherit"})}),Object(B.jsx)("div",{className:"navigation__right-icon-container",children:Object(B.jsx)(Je.a,{fontSize:"inherit"})}),Object(B.jsx)("div",{className:"navigation__right-icon-container",children:Object(B.jsx)(Qe.a,{fontSize:"inherit"})}),Object(B.jsx)("div",{className:"navigation__right-icon-container ".concat(s&&"navigation__active"),onClick:function(){return r(!s)},children:Object(B.jsx)(Ye.a,{fontSize:"inherit"})})]})]}),s&&Object(B.jsx)(tt,{})]})},at=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.socket})).socket;return Object(c.useLayoutEffect)((function(){var t;e((t="http://localhost:4000",function(e){try{var n=T.io.connect(t);e(L(n))}catch(c){C.a.fire({icon:"error",title:"Oops...",text:c})}}))}),[e]),Object(c.useEffect)((function(){e(function(){var e=Object(u.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("user");case 2:return n=e.sent,e.next=5,n.json();case 5:(c=e.sent).ok?t(A(c.profileImage)):C.a.fire({icon:"error",title:"Oops...",text:c.msg});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(c.useEffect)((function(){e(function(){var e=Object(u.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m("post");case 3:return n=e.sent,e.next=6,n.json();case 6:if(!(c=e.sent).ok){e.next=11;break}t($(c.posts)),e.next=12;break;case 11:throw new Error(c.msg);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),C.a.fire({icon:"error",title:"Oops...",text:e.t0});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(c.useEffect)((function(){t&&t.on("post-update",(function(t){e($(t))}))}),[t,e]),Object(B.jsxs)("div",{className:"mainscreen",children:[Object(B.jsx)(ct,{}),Object(B.jsxs)("div",{className:"mainscreen__body",children:[Object(B.jsx)("aside",{className:"mainscreen__left",children:Object(B.jsx)(Re,{})}),Object(B.jsx)("main",{className:"mainscreen__center",children:Object(B.jsxs)("div",{className:"mainscreen__center-content",children:[Object(B.jsx)(G,{}),Object(B.jsx)(ue,{}),Object(B.jsx)(Ee,{})]})}),Object(B.jsx)("div",{className:"mainscreen__right",children:Object(B.jsx)("img",{src:"./assets/lateral.png",alt:"chat"})})]})]})},st=n(54),it=n(7),rt=it.Route,ot=it.Redirect,lt=function(e){var t=e.component,n=e.isAuthenticated,c=Object(st.a)(e,["component","isAuthenticated"]);return Object(B.jsx)(rt,Object(de.a)(Object(de.a)({},c),{},{component:function(e){return n?Object(B.jsx)(t,Object(de.a)({},e)):Object(B.jsx)(ot,{to:"/auth/login"})}}))},jt=n(7),ut=jt.Route,dt=jt.Redirect,bt=function(e){var t=e.component,n=e.isAuthenticated,c=Object(st.a)(e,["component","isAuthenticated"]);return Object(B.jsx)(ut,Object(de.a)(Object(de.a)({},c),{},{component:function(e){return n?Object(B.jsx)(dt,{to:"/"}):Object(B.jsx)(t,Object(de.a)({},e))}}))},mt=n(121),Ot=n.n(mt),pt=n(51),ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),n=Object(ne.a)(t,2),a=n[0],s=n[1],i=function(){s(e)},r=function(e){var t=e.target,n=t.name,c=t.value;s(Object(de.a)(Object(de.a)({},a),{},Object(pt.a)({},n,c)))};return{formState:a,handleInputChange:r,reset:i}},xt=function(){var e=Object(i.b)(),t=ht({email:"",password:""}),n=t.formState,c=t.handleInputChange,a=n.email,s=n.password;return Object(B.jsx)("div",{className:"login",children:Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{className:"login__facebook",children:Object(B.jsx)("img",{src:"../assets/facebook.svg",alt:"facebook"})}),Object(B.jsxs)("div",{className:"login__box",children:[Object(B.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e,t){return function(){var n=Object(u.a)(j.a.mark((function n(c){var a,s,i,r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b({email:e,password:t},"auth/");case 3:return a=n.sent,n.next=6,a.json();case 6:if(!(s=n.sent).ok){n.next=13;break}i=s.user,r=s.token,localStorage.setItem("token",r),c(I(i)),n.next=14;break;case 13:throw new Error(s.msg);case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),C.a.fire({icon:"error",title:"Oops...",text:n.t0});case 19:case"end":return n.stop()}}),n,null,[[0,16]])})));return function(e){return n.apply(this,arguments)}}()}(a,s))},children:[Object(B.jsx)("div",{className:"login__input-field",children:Object(B.jsx)("input",{className:"login__input",placeholder:"Correo electr\xf3nico",type:"email",name:"email",value:a,onChange:c})}),Object(B.jsx)("div",{className:"login__input-field",children:Object(B.jsx)("input",{className:"login__input",type:"password",placeholder:"Contrase\xf1a",name:"password",value:s,onChange:c})}),Object(B.jsx)("button",{className:"btn btn--primary block font-medium",children:"Iniciar sesi\xf3n"})]}),Object(B.jsx)("div",{className:"login__separator mt-3   "}),Object(B.jsx)("div",{className:"login__newuser-field",children:Object(B.jsx)(r.b,{className:"login__linkRegister",to:"/auth/register",children:"Crear cuenta nueva"})}),Object(B.jsx)("div",{className:"login__google mt-2",children:Object(B.jsx)(Ot.a,{clientId:Object({NODE_ENV:"production",PUBLIC_URL:"/Facebook-MERN-client",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).GOOGLE_ID_CLIENT,buttonText:"Inicie sesi\xf3n con Google",onSuccess:function(t){var n=t.getAuthResponse().id_token;e(function(e){return function(){var t=Object(u.a)(j.a.mark((function t(n){var c,a,s,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b({id_token:e},"auth/google");case 3:return c=t.sent,t.next=6,c.json();case 6:if(!(a=t.sent).ok){t.next=13;break}s=a.user,i=a.token,localStorage.setItem("token",i),n(I(s)),t.next=14;break;case 13:throw new Error(a.msg);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),C.a.fire({icon:"error",title:"Oops...",text:t.t0});case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()}(n))},onFailure:function(e){console.log(e)},cookiePolicy:"single_host_origin"})})]})]})})},ft=n(122),gt=n.n(ft),_t=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.ui})).msgError,n=ht({name:"",email:"",password:"",password2:""}),c=n.formState,a=n.handleInputChange,s=c.name,o=c.email,l=c.password,d=c.password2,m=function(){return l!==d||l.length<6?(e(z("Las contrase\xf1as deben coincidir y ser de una longitud mayor a 5 caracteres")),!1):""===s.trim()?(e(z("Por favor introduce un nombre")),!1):gt.a.isEmail(o)?(e({type:g}),!0):(e(z("Por favor ingrese un email v\xe1lido")),!1)};return Object(B.jsx)("div",{className:"login",children:Object(B.jsxs)("div",{className:"login__box login__box--register",children:[Object(B.jsx)("h2",{children:"Registrarte"}),Object(B.jsx)("p",{children:"Es r\xe1pido y facil"}),Object(B.jsx)("div",{className:"login__separator mt-2   "}),Object(B.jsxs)("form",{className:"login__form",onSubmit:function(t){t.preventDefault(),m()&&e(function(e,t,n){return function(){var c=Object(u.a)(j.a.mark((function c(a){var s,i,r,o;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,b({name:e,email:t,password:n},"auth/register");case 3:return s=c.sent,c.next=6,s.json();case 6:if(!(i=c.sent).ok){c.next=13;break}r=i.user,o=i.token,localStorage.setItem("token",o),a(I(r)),c.next=14;break;case 13:throw new Error(i.msg);case 14:c.next=19;break;case 16:c.prev=16,c.t0=c.catch(0),C.a.fire({icon:"error",title:"Oops...",text:c.t0});case 19:case"end":return c.stop()}}),c,null,[[0,16]])})));return function(e){return c.apply(this,arguments)}}()}(s,o,l))},children:[Object(B.jsx)("div",{className:"login__input-field",children:Object(B.jsx)("input",{className:"login__input login__input--register",placeholder:"Nombre",value:s,name:"name",onChange:a})}),Object(B.jsx)("div",{className:"login__input-field",children:Object(B.jsx)("input",{className:"login__input login__input--register",type:"email",placeholder:"Correo electr\xf3nico",value:o,name:"email",onChange:a})}),Object(B.jsx)("div",{className:"login__input-field",children:Object(B.jsx)("input",{className:"login__input login__input--register",type:"password",placeholder:"Contrase\xf1a",value:l,name:"password",onChange:a})}),Object(B.jsx)("div",{className:"login__input-field",children:Object(B.jsx)("input",{className:"login__input login__input--register",type:"password",placeholder:"Confirme la contrase\xf1a",value:d,name:"password2",onChange:a})}),t&&Object(B.jsx)("div",{className:"login__alert",children:Object(B.jsx)("p",{children:t})}),Object(B.jsx)("div",{className:"login__newuser-field",children:Object(B.jsx)("button",{className:"btn btn--secondary block font-small",children:"Registrarte"})})]}),Object(B.jsx)(r.b,{className:"login__linkLogin",to:"/auth/login",children:" Ya tienes una cuenta? "})]})})},vt=function(){return Object(B.jsxs)(o.Switch,{children:[Object(B.jsx)(o.Route,{exact:!0,path:"/auth/login",component:xt}),Object(B.jsx)(o.Route,{exact:!0,path:"/auth/register",component:_t}),Object(B.jsx)(o.Redirect,{to:"/auth/login"})]})},Nt=function(){var e=Object(i.c)((function(e){return e.auth})),t=e.checking,n=e.user,a=Object(i.b)();return Object(c.useEffect)((function(){a(function(){var e=Object(u.a)(j.a.mark((function e(t){var n,c,a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m("auth/renew");case 3:return n=e.sent,e.next=6,n.json();case 6:(c=e.sent).ok&&(a=c.user,s=c.token,localStorage.setItem("token",s),t(I(a))),t(R()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),C.a.fire({icon:"error",title:"Oops...",text:e.t0});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),[a]),t?Object(B.jsx)("h1",{children:"Wait..."}):Object(B.jsx)(r.a,{children:Object(B.jsx)("div",{children:Object(B.jsxs)(o.Switch,{children:[Object(B.jsx)(bt,{path:"/auth",isAuthenticated:!!n,component:vt}),Object(B.jsx)(lt,{exact:!0,path:"/",isAuthenticated:!!n,component:at}),Object(B.jsx)(o.Redirect,{to:"/auth/login"})]})})})},kt=n(43),yt=n(123),St={user:null,checking:!0},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(de.a)(Object(de.a)({},e),t.payload);case h:return Object(de.a)(Object(de.a)({},St),{},{checking:!1});case x:return Object(de.a)(Object(de.a)({},e),{},{checking:!1});default:return e}},Et={posts:[],active:{image:{src:"",file:null,deleted:!1},body:"",id:null}},Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(de.a)(Object(de.a)({},e),{},{posts:t.payload});case y:return Object(de.a)(Object(de.a)({},e),{},{active:t.payload});case S:return Object(de.a)(Object(de.a)({},e),{},{active:Et.active});default:return e}},It={socket:null},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return{socket:t.payload};default:return e}},Pt={msgError:null,isLoading:!1,modalStatus:!1,userImage:null},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(de.a)(Object(de.a)({},e),{},{msgError:t.payload});case g:return Object(de.a)(Object(de.a)({},e),{},{msgError:null});case _:return Object(de.a)(Object(de.a)({},e),{},{userImage:t.payload});case v:return Object(de.a)(Object(de.a)({},e),{},{modalStatus:t.payload});case N:return Object(de.a)(Object(de.a)({},e),{},{isLoading:t.payload});default:return e}},Lt=Object(kt.b)({auth:wt,ui:Tt,posts:Ct,socket:Rt}),zt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||kt.c,At=Object(kt.d)(Lt,zt(Object(kt.a)(yt.a))),Dt=function(){return Object(B.jsx)(i.a,{store:At,children:Object(B.jsx)(Nt,{})})};s.a.render(Object(B.jsx)(Dt,{}),document.getElementById("root"))}},[[250,1,2]]]);
//# sourceMappingURL=main.fc285371.chunk.js.map